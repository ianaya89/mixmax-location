<html style="background-color: #0a0f14">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Mixmax &middot; Current Location</title>

    <script defer src="https://d1xa36cy0xt122.cloudfront.net/v1/Mixmax.js"></script>
  </head>

  <body data-current-theme="gmail">
    <button id="btnDone" disabled>OK</button>
    <button id="btnDone">Cancel</button>

    <iframe style="display: none" id="map" width="600" height="450" frameborder="0" style="border:0"></iframe>

     <script>
        const btnDone = document.getElementById('btnDone')
        const btnCancel = document.getElementById('btnCancel')
        const map = document.getElementById('map')

        navigator.geolocation.getCurrentPosition((position) => {
          const q = `${position.coords.latitude}, ${position.coords.longitude}`
          const mapUrl = `https://www.google.com/maps/embed/v1/place?key=AIzaSyDntOFUzsjtroqZkB_lB6IimZnYOvzgaRg&q=${q}`

          map.src = mapUrl
          map.style.display = 'block'

          btnDone.disabled = false
          btnDone.addEventListener('click', () => {
            Mixmax.done({ q })
          })
        })


        btnDone.addEventListener('click', () => {
         Mixmax.cancel()
        })
      </script>
  </body>
</html>
